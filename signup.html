<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <title>Sign Up | Page Title</title>
</head>
<body>
    <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfFjro1efGT7NJ9iKMidXtwVoA1i7XJQ7VcqJUpNsxOhHsF1g/viewform?embedded=true" width="1080" height="1080" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦</iframe>
    <div class="container">
        <div class="row">
            <div class="col-md-3 mx-auto">
                <p>Already have an account? <a href="login.html">Log In</a></p>
            </div>
        </div>
    </div>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <title>Sign Up | Page Title</title>
    <style>
        form {
            border:1px solid black;
            border-radius:10%;
            height:80vh;
            background-color: azure;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-8 mx-auto mt-5">
                <form id="signupForm" class="form">
                    <h2 class="text-center mt-3">Sign Up</h2>
                    
                    <div class="row">
                        <div class="mb-3 col-md-6 mt-5 mx-auto">
                            <label for="username" class="form-label">Please create a username.</label><br>
                            <input type="text" class="form-control" id="username" name="username" required>
                        </div>
                    </div>

                    <div class="row">
                        <div class="mb-3 col-md-6 mx-auto">
                            <label for="password" class="form-label">Please create a password.</label>
                            <input type="password" class="form-control" id="password" name="password" required>
                        </div>
                    </div>

                    <div class="row">
                        <div class="mb-3 col-md-2 mx-auto">
                            <button onclick="signUp()" id="singupButton" type="button" class="btn btn-primary">Sign Up</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mt-3 mx-auto">
                            <p>Already have an account? <a href="login.html">Log In</a></p>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script defer>
        function signUp() {
            const usernameInput = document.getElementById("username").value;
            const passwordInput = document.getElementById("password").value;

            const existingUsers = JSON.parse(localStorage.getItem("users")) || [];

            // Check if the username is already taken
            if (existingUsers.some(user => user.username === usernameInput)) {
                alert("Username is already taken. Please choose a different one.");
                return;
            }

            // Add the new user to the array
            existingUsers.push({ username: usernameInput, password: passwordInput });

            // Store the updated array in local storage
            localStorage.setItem("users", JSON.stringify(existingUsers));

            alert("Successfully Signed Up!");

            if(passwordInput.length < 8) {
                alert("Password must be at least 8 characters long!");
                return false;
            }

            else if(hasSpecialCharacter(passwordInput)) {
                alert("Password cannot contain any special characters.");
                return false;
            }

            function hasSpecialCharacter(input) {
                const specialCharacters = ['!', ' ', '$', '%', '^', '&', '*', '(', ')'];
                
                for (const char of input) {
                    if (specialCharacters.includes(char)) {
                        return true;
                    }
                }

                return false;
            }

            console.log("Username:", usernameInput);
            console.log("Password:", passwordInput);
            
            localStorage.setItem("username", usernameInput);
            localStorage.setItem("password", passwordInput);
            alert("Successfully Signed Up!");
            clearForm("signupForm");
        }

        function clearForm(formId) {
            const form = document.getElementById("signupForm");

            // Check if the form exists
            if (form) {
                // Iterate over the form elements
                Array.from(form.elements).forEach(element => {
                    // Check if the element is an input, textarea, or select
                    if (
                        element.tagName === "INPUT" ||
                        element.tagName === "TEXTAREA" ||
                        element.tagName === "SELECT"
                    ) {
                        // Clear the value
                        element.value = "";
                    }
                });
            } else {
                console.error("Form not found with ID:", formId);
            }
        }
    </script>
</body>
</html>